"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_http=_interopRequireDefault(require("../http")),WebApi=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"https://";(0,_classCallCheck2["default"])(this,a),this.endpoint="".concat(c,"create.kahoot.it/rest"),this.proxy=b,this.accessToken=null}return(0,_createClass2["default"])(a,[{key:"authenticate",value:function authenticate(a,b){var c=this;return _http["default"].post("".concat(this.proxy).concat(this.endpoint,"/authenticate"),{grant_type:"password",username:a,password:b}).then(function(a){if(a.error)throw new Error(a.error);else a.access_token&&(c.accessToken=a.access_token);return _http["default"].defaults.headers.common.Authorization="Bearer ".concat(c.accessToken),c.accessToken})}},{key:"getKahoot",value:function getKahoot(a){return _http["default"].get("".concat(this.proxy).concat(this.endpoint,"/kahoots/").concat(a)).then(function(a){return a.data})}},{key:"searchKahoots",value:function searchKahoots(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;return _http["default"].get("".concat(this.proxy).concat(this.endpoint,"/kahoots/?query=").concat(a,"&cursor=0&limit=").concat(b,"&orderBy=relevance")).then(function(a){return a.data})}}]),a}();exports["default"]=WebApi;
//# sourceMappingURL=api.js.map